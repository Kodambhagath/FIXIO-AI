{% extends 'base.html' %}

{% block title %}AI Assistant - Fixio{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{{ url_for('index') }}">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page">AI Assistant</li>
            </ol>
        </nav>
        <h1 class="display-5 mb-3">AI Assistant</h1>
        <p class="lead">Get help with file processing and Fixio tools</p>
    </div>
</div>

<div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">
        <div class="card bg-dark">
            <div class="card-body">
                <form id="assistant-form">
                    <div class="form-group mb-3">
                        <label for="assistant-query" class="form-label">How can I help you today?</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="assistant-query" placeholder="Ask about Fixio tools or file processing..." required>
                            <button class="btn btn-primary" type="submit">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </form>
                
                <div id="assistant-response" class="mt-4 d-none"></div>
                
                <div class="mt-4">
                    <h5>Suggested questions:</h5>
                    <div class="d-flex flex-wrap gap-2 mt-2">
                        <button class="btn btn-outline-primary btn-sm suggestion-btn" data-query="How do I merge PDF files?">How do I merge PDF files?</button>
                        <button class="btn btn-outline-primary btn-sm suggestion-btn" data-query="Which image format is best for pictures?">Which image format is best for pictures?</button>
                        <button class="btn btn-outline-primary btn-sm suggestion-btn" data-query="How can I reduce file size for emails?">How can I reduce file size for emails?</button>
                        <button class="btn btn-outline-primary btn-sm suggestion-btn" data-query="How does the background remover work?">How does the background remover work?</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card bg-dark mt-4">
            <div class="card-header">
                <h5 class="mb-0">About the AI Assistant</h5>
            </div>
            <div class="card-body">
                <p>The Fixio AI Assistant is designed to help you:</p>
                <ul>
                    <li>Navigate and find the right tools for your needs</li>
                    <li>Understand different file formats and their uses</li>
                    <li>Get advice on best practices for file processing</li>
                    <li>Troubleshoot common issues with file conversions</li>
                </ul>
                <div class="alert alert-info">
                    <i class="fas fa-info-circle me-2"></i>The assistant can provide guidance on all Fixio tools and general file processing topics.
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Add click handlers for suggestion buttons
        const suggestionBtns = document.querySelectorAll('.suggestion-btn');
        suggestionBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const query = this.getAttribute('data-query');
                document.getElementById('assistant-query').value = query;
                document.getElementById('assistant-form').dispatchEvent(new Event('submit'));
            });
        });
    });
</script>
{% endblock %}
